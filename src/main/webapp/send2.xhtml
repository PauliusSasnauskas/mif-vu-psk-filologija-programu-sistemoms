<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <meta charset="UTF-8"/>
</h:head>
<h:body>
    <span>Gavėjo informacija → <b>Siuntos informacija</b> → Apmokėjimas</span>
    <h2>Siuntos parametrai</h2><br/>
    <h:form id="parcelInfoForm" style="float: left;">
        <span>Ilgis </span>
        <h:inputText value="#{sendParcel.parcelToSend.length}">
            <f:ajax event="change" listener="#{sendParcel.calcPrice()}"/>
        </h:inputText>
        <span> cm</span><br/>
        <span>Plotis </span>
        <h:inputText value="#{sendParcel.parcelToSend.width}" >
            <f:ajax event="change" listener="#{sendParcel.calcPrice()}"/>
        </h:inputText>
        <span> cm</span><br/>
        <span>Aukštis </span>
        <h:inputText value="#{sendParcel.parcelToSend.height}" >
            <f:ajax event="change" listener="#{sendParcel.calcPrice()}"/>
        </h:inputText>
        <span> cm</span><br/>
        <span>Svoris </span>
        <h:inputText value="#{sendParcel.parcelToSend.weight}" />
        <span> kg</span><br/>

        <h:selectManyCheckbox value="#{sendParcel.selectedOptions}" layout="pageDirection">
            <f:ajax event="change" listener="#{sendParcel.calcPrice()}"/>
            <f:selectItem itemValue="fragile" itemLabel="Dūžtanti siunta (+5€ * masė)"/>
            <f:selectItem itemValue="signDocument" itemLabel="Priimant būtina pasirašyti dokumentą (+3€)"/>
            <f:selectItem itemValue="donateToChildren" itemLabel="Paremti globos namuose esančius vaikus (+2€)"/>
            <f:selectItem itemValue="sustainable" itemLabel="Siųsti gamtą tausojančiu būdu (siuntą siųs kurjeris su dviračiu) (+30€)"/>
        </h:selectManyCheckbox>

        <h:outputLabel id="currentPrice" value="Kaina: #{sendParcel.parcelToSend.price} €" >
            <f:convertNumber minFractionDigits="2" maxFractionDigits="2"/>
        </h:outputLabel><br/>

        <h:commandButton style="margin-left: 130px; margin-right: 30px" value="Atgal" action="#{sendParcel.goToParcelParameters()}" />
        <h:commandButton value="Toliau" action="#{sendParcel.goToPayment()}" />
    </h:form>

    <table style="border: 1px solid black; padding: 10px; width: 310px;">
        <tr><td>
            <table>
                <tr>
                    <td>Didelių gabaritų siunta: <b>+50€</b></td>
                </tr>
                <tr>
                    <td>(Jei ilgis arba plotis arba aukštis > 50 cm)</td>
                </tr>
            </table>
        </td></tr>
    </table>
</h:body>
</html>